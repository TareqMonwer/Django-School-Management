{% extends 'dashboard.html' %}
{% load static %}

{% block dashboard-body %}
<nav aria-label="breadcrumb">
    <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="{% url 'index_view' %}">Dashboard</a></li>
        <li class="breadcrumb-item">
            <a href="{% url 'students:students_dashboard_index' %}">Applicants</a>
        </li>
        <li class="breadcrumb-item active" aria-current="page">All</li>
    </ol>
</nav>

<div class="row">
    <div class="col-12 mb-2">
        <h4 class="mb-1">All Applicants</h4>
        <small class="mb-3">
          Click on any student info to update any details.
        </small>
    </div>
  <div class="col-12">
    <div class="table-responsive">
      <table class="table table-bordered table-hover">
        <thead class="thead-light">
          <tr>
            <th scope="col">SYL</th>
            <th scope="col">Name</th>
            <th scope="col">Application Date</th>
            <th scope="col">Payment Status</th>
            <th scope="col">Admitted</th>
            <th scope="col">Contact</th>
          </tr>
        </thead>
        <tbody>
          {% for applicant in registrants %}
          <tr>
            <th scope="row">
              <a href="{% url 'students:update_online_registrant' pk=applicant.id %}">
                {{ forloop.counter }}
              </a>
            </th>
            <td>
              <a href="{% url 'students:update_online_registrant' pk=applicant.id %}">
                {{ applicant.name }}
              </a>
            </td>
            <td>
              <a href="{% url 'students:update_online_registrant' pk=applicant.id %}">
                {{ applicant.created }}
              </a>
            </td>
            <td class="text-center">
              <a href="{% url 'students:update_online_registrant' pk=applicant.id %}">
                {% if applicant.paid %}
                  <img src="{% static 'images/checked.png' %}" width="16" alt="Paid">
                {% else %}
                  <img src="{% static 'images/cross.png' %}" width="16" alt="Not paid">
                {% endif %}
              </a>
            </td>
            <td class="text-center">
                <a href="{% url 'students:update_online_registrant' pk=applicant.id %}">
                    {% if applicant.admitted %}
                      <img src="{% static 'images/checked.png' %}" width="16" alt="Admitted">
                    {% else %}
                      <img src="{% static 'images/cross.png' %}" width="16" alt="Not admitted">
                    {% endif %}
                </a>
            </td>
            <td>
                <a href="{% url 'students:update_online_registrant' pk=applicant.id %}">
                    {{ applicant.mobile_number }}
                </a>
            </td>
          </tr>
          {% empty %}
          <tr>
            <td colspan="6" class="text-center text-muted py-4">No applicants found.</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
</div>

{% endblock %}
